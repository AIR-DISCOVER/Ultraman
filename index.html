<!DOCTYPE html>

<html lang="en">

<head>
  <meta content="Ultraman" name="title" />
  <meta content="Single Image 3D Human Reconstruction with Ultra Speed and Detail" name="description" />
  <meta content="3D Generative Model, Computer Vision, Computer Graphics, Human Modeling, 3D Human Synthesis, Avatar Animation" name="keywords" />
  <meta content="index, follow" name="robots" />
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
  <meta content="English" name="language" />
  <meta content="Junhao Chen" name="author" />
  
  <title>Ultraman</title>
  
  <link rel="icon" type="img/x-icon" href="img/favicon.ico" />
  <!-- Bootstrap -->
  <script src="js/video_comparison.js"></script>
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap-4.4.1.js"></script>


  <link href="css/bootstrap-4.4.1.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;700;800;900&amp;display=swap" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.css" rel="stylesheet" />
<!--  <link href="img/favicon1.eps" rel="icon" sizes="any" type="image/svg+xml" />-->

  <script src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/katex.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@0.13.18/dist/contrib/auto-render.min.js"></script>

  <!-- <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet" /> -->

  <link rel="stylesheet" href="css/bulma.min.css" />
  <!-- <link rel="stylesheet" href="css/bulma-carousel.min.css" /> -->
  <!-- <link rel="stylesheet" href="css/bulma-slider.min.css" /> -->
  <!-- <link rel="stylesheet" href="css/fontawesome.all.min.css" /> -->
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css" /> -->
  <!-- <link rel="stylesheet" href="css/index.css" /> -->
  <!-- <link rel="stylesheet" href="https://unpkg.com/beerslider/dist/BeerSlider.css"> -->

  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> -->
  <!-- <script src="https://documentcloud.adobe.com/view-sdk/main.js"></script> -->
  <script defer src="js/fontawesome.all.min.js"></script>
  <!-- <script src="js/bulma-carousel.min.js"></script> -->
  <script src="js/bulma-slider.min.js"></script>
  <script src="js/index.js"></script>

  <style>

    code {
      white-space: pre-wrap;
    }

    body {
      font-family: 'Jost';
    }

    b {
      font-weight: black;
    }

    strong {
      font-weight: bold;
    }

    section>h5 {
      padding-bottom: 30px;
    }

    .col-12>h3 {
      padding-top: 30px;
    }

    .results-section {
      padding-bottom: 30px;
    }

    .carousel-control-prev,
    .carousel-control-next {
      background-color: rgba(0, 0, 0, 0.5);
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
    }

    .carousel-control-prev {
      left: 25px;
    }

    .carousel-control-next {
      right: 25px;
    }

    .carousel-indicators {
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      bottom: 10%;
      left: 90%;

      /* Adjust vertical position */
      text-align: center;
      /* Center the content horizontally */
      margin: 0;
      padding: 0;
      list-style: none;
    }

    .carousel-indicators li {
      background-color: transparent;
      /* Hide the default Bootstrap indicators */
      border: none;
      /* Remove border */
      margin: 0 25px;
      display: inline-block;
    }

    .indicator-dot {
      display: inline-block;
      width: 15px;
      height: 15px;
      text-indent: -999px;
      border: none;
      border-radius: 10px;
      background-color: rgba(0, 0, 0, 0.5);
    }

    .row.sm-gutters {
      margin-right: 5px;
      margin-left: 5px;
      margin-top: 5px;
      margin-bottom: 5px;
    }
  .row.sm-gutters-2 {
      justify-content: center;
      align-items:center;
  }

    .row.sm-gutters>.col-md-4 {
      padding-right: 5px;
      padding-left: 5px;
      padding-top: 5px;
      padding-bottom: 5px;
    }

    .row.sm-gutters>.col-md-6 {
      padding-right: 5px;
      padding-left: 5px;
      padding-top: 5px;
      padding-bottom: 5px;
    }
  .row.sm-gutters>.col-md-6-2 {
      justify-content: center;
      align-items:center;
  }
  .row.sm-gutters>.col-md-6-3 {
      padding-right: 5px;
      padding-left: 5px;
      padding-top: 5px;
      padding-bottom: 5px;
  }

    .row.sm-gutters>.col-md-12 {
      padding-top: 5px;
      padding-bottom: 5px;
      padding-right: 5px;
      padding-left: 5px;
    }

    .renbody-zoom-container {
      width: 80%;
      /* Or whatever size you want */
      aspect-ratio: 0.75;
      /* Or whatever size you want */
      overflow: hidden;
      /* Hide the parts of the video outside the container */
      object-fit: cover;
      /* Make sure the video covers the container without stretching */
      object-position: center;
      /* Center the video */
      border-radius: 5px;
    }

    .mobile-zoom-container {
      width: 100%;
      /* Or whatever size you want */
      aspect-ratio: 0.75;
      /* Or whatever size you want */
      overflow: hidden;
      /* Hide the parts of the video outside the container */
      object-fit: cover;
      /* Make sure the video covers the container without stretching */
      object-position: center;
      /* Center the video */
      border-radius: 5px;
      margin: 5px
    }

    .video-zoom-container {
      overflow: hidden;
      /* Hide the parts of the video outside the container */
      object-fit: cover;
      /* Make sure the video covers the container without stretching */
      object-position: center;
      border-radius: 5px;
      margin: 5px;
    }

    .zoom-element {
      transition: transform 0.2s ease-in-out;
    }

    .zoom-element:hover {
      transform: scale(1.65);
    }

    .nhr-zoom {
      transform: scale(1.45);
    }

    .renbody-zoom {
      transform: scale(1.65) translateY(2%);
      border-radius: 5px;
    }

    .mobile-zoom {
      transform: scale(1.65);
      border-radius: 5px;
    }

    .zjumocap-zoom {
      transform: scale(1.3);
    }

    video {
      border-radius: 5px;
      padding: 0px;
      margin: 0px;
    }

    .comparison-canvas {
      padding: 0px;
      margin: 0px;
      border-radius: 5px;
    }

    .a16x9 {
      aspect-ratio: 16/9;
    }

    .a4x3 {
      aspect-ratio: 1352/1014;
    }

    .a1x1 {
      aspect-ratio: 1;
    }

    .a16x9demo {
      aspect-ratio: 1920/1152;
    }

    .a4x3demo {
      aspect-ratio: 1352/1086;
    }

    .a1x1demo {
      aspect-ratio: 1600/1672;
    }
  
  img {
        display: block;
        margin: 0 auto;
      }
  
  </style>
  <script>



  </script>
  </link>
</head>

<body>
  <!-- cover -->
  <section>
    <div class="jumbotron text-center mt-0">
      <div class="container">
        <div class="row">
          <div class="col-12">
            
            <h1 style="font-weight: bold">
                <b style="color: #5a3e91">Ultra</b><b style="color: #d73d5f">man</b>:
                Single Image 3D Human Reconstruction <br> with Ultra Speed and Detail

            </h1>
            <!-- <h4 style="color:#5a6268;"> Conference [To be added] </h4> -->
            <a href="https://github.com/tomorrow1238" target="_blank">Mingjin Chen<sup>*1,2</sup>, </a>
            <a href="https://scholar.google.com/citations?hl=en&user=uVMnzPMAAAAJ" target="_blank">Junhao Chen<sup>*1,3</sup>, </a>
            <a href="https://scholar.google.com/citations?user=BKMYsm4AAAAJ&hl=en" target="_blank">Xiaojun Ye<sup>1,4</sup>, </a>
            <a href="https://scholar.google.com/citations?hl=en&user=WvbKfLgAAAAJ" target="_blank">Huan-ang Gao<sup>1</sup>, </a>
            <a href="https://scholar.google.com/citations?hl=en&user=_tz64W0AAAAJ" target="_blank">Xiaoxue Chen<sup>1</sup>, </a>
            <a href="https://github.com/zhaoxinf" target="_blank">Zhaoxin Fan<sup>5</sup>, </a>
            <a href="https://scholar.google.com/citations?hl=en&user=ygQznUQAAAAJ" target="_blank">Hao Zhao<sup>†1</sup> </a>
            </a>
            <p>
            <sup>1</sup>Institute for AI Industry Research (AIR), Tsinghua University
            <br>
            <sup>2</sup>Beijing Normal University - Hong Kong Baptist University United International College
            <br>
            <sup>3</sup>Tsinghua Shenzhen International Graduate School, Tsinghua University
            <br>
            <sup>4</sup>College of Computer Science, Zhejiang University
            <br>
            <sup>5</sup>State Key Laboratory of Multimodal Artificial Intelligence Systems, Institute of Automation, Chinese Academy of Sciences
            
            <span class="eql-cntrb"><small><br><sup>*</sup>Indicates Equal Contribution</small></span>
            <span style="margin: 1em;"></span>
            <span class="eql-cntrb"><small><sup>†</sup>Indicates Corresponding Author</small></span>

            </p>
            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- Arxiv PDF link -->
                <span class="link-block">
                  <a href="https://arxiv.org/pdf/2403.12028.pdf" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fas fa-file-pdf"></i>
                    </span>
                    <span>Paper</span>
                  </a>
                </span>

                <!-- Github link -->
                <span class="link-block">
                  <a href="https://github.com/tomorrow1238/Ultraman" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code (coming soon)</span>
                  </a>
                </span>

                <!-- ArXiv abstract Link -->
                <span class="link-block">
                  <a href="https://arxiv.org/abs/2403.12028" target="_blank"
                    class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="ai ai-arxiv"></i>
                    </span>
                    <span>arXiv</span>
                  </a>
                </span>


              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 正文 -->

  <!-- Tesear -->
  <section>
    <div class="container">
      <h6 style="color: #8899a5">
        Without any 3D or 2D pre-training, our proposed Ultraman is able to quickly synthesize complete, realistic and highly detailed 3D avatars based on a single input RGB image.
      </h6>
      <video autoplay="" class="a16x9demo" data-desktop-vid1="videos\oursall.mp4"
            loop="" muted="" playsinline="" poster="img/spinner.svg" width="100%">
      </video>
    </div>
  </section>
  

  
  <!-- Abstract -->
  <section>
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h3>Abstract</h3>
          <hr style="margin-top: 0px" />
<!--          <img src="img/teaser.jpg" width="100%" />-->
          <p class="text-left">
            3D human body reconstruction has been a challenge in the field of computer vision. Previous methods are often time-consuming and difficult to capture the detailed appearance of the human body.
            In this paper, we propose a new method called <strong>Ultraman</strong> for fast reconstruction of textured 3D human models from a single image. Compared to existing techniques, <strong>Ultraman</strong> greatly improves the reconstruction speed and accuracy while preserving high-quality texture details.
            We present a set of new frameworks for human reconstruction consisting of three parts, geometric reconstruction, texture generation and texture mapping.
            Firstly, a mesh reconstruction framework is used, which accurately extracts 3D human shapes from a single image. At the same time, we propose a method to generate a multi-view consistent image of the human body based on a single image. This is finally combined with a novel texture mapping method to optimize texture details and ensure color consistency during reconstruction.
            Through extensive experiments and evaluations, we demonstrate the superior performance of <strong>Ultraman</strong> on various standard datasets. In addition, <strong>Ultraman</strong> outperforms state-of-the-art methods in terms of human rendering quality and speed. Upon acceptance of the article, we will make the code and data publicly available.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Method -->
  <section>
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h3>Method</h3>
          <hr style="margin-top: 0px" />
          <video autoplay="" class="a16x9demo" data-desktop-vid1="videos\overview.mp4"
            loop="" muted="" playsinline=""  width="100%">
        </video>
        
          <!-- <img src="img/pipeline.png" width="80%" /> -->
          <p>
            Overview of the framework of <strong>Ultraman</strong>. <strong>Ultraman</strong> takes a image $I_0$ of human as input. The blue rounded dashed rectangle is denoted as the Prompt Generation Module and the responses to the questions are generated by GPT4V. The red rounded dashed rectangles are indicated as mesh reconstruction modules. It generates the mesh and UV map. The yellow rounded dashed rectangle is the multi-view texture generation module. It includes a control model $\mathcal{M}_c$, which controls the generation of texture in the current viewpoint by accepting the prompt from the current viewpoint, and by using the depth map rendered by the mesh and the input image. The Texturing module pastes the corresponding texture back onto the mesh according to the generation mask. 
          
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Visual comparisons -->
  <section>
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h3>Visual Comparisons</h3>
          <hr style="margin-top: 0px" />
          <video autoplay="" class="a16x9demo" data-desktop-vid1="videos\comp.mp4"
            loop="" muted="" playsinline=""  width="100%">
        </video>
          <!-- <img src="img/pipeline.png" width="80%" /> -->
        </div>
      </div>
    </div>
  </section>

  <!-- Applications -->

  <!-- Animated Avatars & AR Applications -->
  <section>
  <div class="container">
    <div class="row">
      <div class="col-12">
          <h4>Animated Avatars</h4>
          <div class="carousel slide" data-interval="12000" data-ride="carousel" id="videoCarouse2">
              <ol class="carousel-indicators">
                <li class="active" data-slide-to="0" data-target="#videoCarouse2">
                  <span class="indicator-dot"></span>
                  <span class="indicator-dot"></span>
                </li>
                <li data-slide-to="1" data-target="#videoCarouse2">
                  <span class="indicator-dot"></span>
                  <span class="indicator-dot"></span>
                </li>
              </ol>
              <div class="carousel-inner">

                <div class="carousel-item active">
                  <div class="row sm-gutters">
                    <div class="col-md-6-2">
                      <div class="zoom-element">
                          <video autoplay="" class="a1x1demo" data-desktop-vid1="videos\11.mp4" loop="" muted="" playsinline="" poster="img/spinner.svg" width="200%">
                          </video>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="zoom-element">
                        <video autoplay="" class="a1x1demo" data-desktop-vid1="videos\jump2.mp4" loop="" muted="" playsinline="" poster="img/spinner.svg" width="150%">
                        </video>
                      </div>
                    </div>
                  </div>
                </div>
                
                <div class="carousel-item">
                  <div class="row sm-gutters-2">
                    <div class="col-md-6-2">
                      <div class="zoom-element">
                        <video class="a1x1demo" data-desktop-vid1="videos\15.mp4" loop="" muted="" playsinline="" poster="img/spinner.svg" preload="none" width="200%">
                        </video>
                      </div>
                    </div>
                    <div class="col-md-6">
                        <div class="zoom-element">
                        <video class="a1x1demo" data-desktop-vid1="videos\jump1.mp4" loop="" muted="" playsinline="" poster="img/spinner.svg" preload="none" width="150%">
                        </video>
                        </div>
                    </div>
                  </div>
                </div>

                <!-- Additional carousel items... -->
              </div>
              <a class="carousel-control-prev" data-slide="prev" href="#videoCarouse2" role="button">
                <span aria-hidden="true" class="carousel-control-prev-icon"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" data-slide="next" href="#videoCarouse2" role="button">
                <span aria-hidden="true" class="carousel-control-next-icon"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          
          </div>
        </div>
    </div>
  </section>

  <!-- DIY clothes -->
  <section>
    <div class="container">
      <div class="row">
        <div class="col-12">
            <h4>DIY clothes</h4>
    <!--        <p >right-slide for edited outputs </p>-->
            <h5 style="color: #8899a5">
                You can make DIY designs for your clothes according to your needs.
            </h5>
            <div class="carousel slide" data-interval="12000" data-ride="carousel" id="videoCarouse3">
                <ol class="carousel-indicators">
                  <li class="active" data-slide-to="0" data-target="#videoCarouse3">
                    <span class="indicator-dot"></span>
                    <span class="indicator-dot"></span>
                  </li>
                  <li data-slide-to="1" data-target="#videoCarouse3">
                    <span class="indicator-dot"></span>
                    <span class="indicator-dot"></span>
                  </li>
                  <li data-slide-to="2" data-target="#videoCarouse3">
                    <span class="indicator-dot"></span>
                    <span class="indicator-dot"></span>
                  </li>
                </ol>
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <div class="row sm-gutters">
                      <div class="col-md-6">
                        <div class="zoom-element">
                            <p align="center">Original input </p>
                            <img src="./videos/origin.png" width="70%" />
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="zoom-element">
                          <p align="center"> Output result</p>
                          <video autoplay="" class="a1x1demo" data-desktop-vid1="./videos/origin.mp4" loop="" muted="" playsinline="" poster="img/spinner.svg" width="100%">
                          </video>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="carousel-item">
                    <div class="row sm-gutters">
                      <div class="col-md-6">
                        <div class="zoom-element">
                            <p align="center">Pattern DIY</p>
                            <img src="./videos/edit1.png" width="70%" />
    <!--                      <video class="a1x1demo" data-desktop-vid1="./assets/edit_doodle.mp4" loop="" muted="" playsinline="" poster="img/spinner.svg" preload="none" width="100%">-->
    <!--                      </video>-->
                        </div>
                      </div>
                      <div class="col-md-6">
                        <div class="zoom-element">
                            <p align="center"> Output result</p>
                          <video class="a1x1demo" data-desktop-vid1="./videos/edit1.mp4" loop="" muted="" playsinline="" poster="img/spinner.svg" preload="none" width="100%">
                          </video>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="carousel-item">
                    <div class="row sm-gutters">
                      <div class="col-md-6">
                        <div class="zoom-element">
                            <p align="center">Text DIY </p>
                          <img src="./videos/edit2.png" width="70%" />
    <!--                      <video class="a1x1demo" data-desktop-vid1="./assets/edit_cloth.mp4" loop="" muted="" playsinline="" poster="img/spinner.svg" preload="none" width="100%">-->
    <!--                      </video>-->
                        </div>
                      </div>
                      <div class="col-md-6">
                          <div class="zoom-element">
                              <p align="center"> Output result</p>
                          <video class="a1x1demo" data-desktop-vid1="./videos/edit2.mp4" loop="" muted="" playsinline="" poster="img/spinner.svg" preload="none" width="100%">
                          </video>
                          </div>
                      </div>
                    </div>
                  </div>
                  
                  
                  
    
                  <!-- Additional carousel items... -->
                </div>
                <a class="carousel-control-prev" data-slide="prev" href="#videoCarouse3" role="button">
                  <span aria-hidden="true" class="carousel-control-prev-icon"></span>
                  <span class="sr-only">Previous1</span>
                </a>
                <a class="carousel-control-next" data-slide="next" href="#videoCarouse3" role="button">
                  <span aria-hidden="true" class="carousel-control-next-icon"></span>
                  <span class="sr-only">Next1</span>
                </a>
              </div>
            
            </div>
          </div>
      </div>
    </section>



  <!-- citing -->
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        </br>
        </br>
        <h3>Citation</h3>
        <hr style="margin-top: 0px" />
        <pre style="background-color: #e9eeef; padding: 1.5em 1.5em; border-radius: 20px">
<code>@article{chen2024ultraman,
  title={Ultraman: Single Image 3D Human Reconstruction with Ultra Speed and Detail}, 
  author={Mingjin Chen and Junhao Chen and Xiaojun Ye and Huan-ang Gao and Xiaoxue Chen and Zhaoxin Fan and Hao Zhao},
  year={2024},
  eprint={2403.12028},
  archivePrefix={arXiv},
  primaryClass={cs.CV}
}
</code></pre>
        <hr />
      </div>
    </div>
  </div>

  <footer class="text-center" style="margin-bottom: 10px">
      This page is built upon
    <a href="https://menyifang.github.io/projects/En3D/index.html" target="_blank">EN3D</a>
      and
    <a href="https://air-discover.github.io/SCP-Diff/" target="_blank">SCP-Diff</a>
  </footer>
  
  
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="renbody-results" aria-expanded="false" class="btn btn-primary" data-target="#renbody-results" data-toggle="collapse" id="renbody-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
            <button aria-controls="mobilestage-results" aria-expanded="false" class="btn btn-primary" data-target="#mobilestage-results" data-toggle="collapse" id="mobilestage-results-button" type="button">
            </button>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="outdoor-results" aria-expanded="false" class="btn btn-primary" data-target="#outdoor-results" data-toggle="collapse" id="outdoor-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      <div class="collapse" id="outdoor-results">
        <div class="col-md-12">
          
        </div>
      </div>
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="n3dv-results" aria-expanded="false" class="btn btn-primary" data-target="#n3dv-results" data-toggle="collapse" id="n3dv-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
      </div>
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="nhr-results" aria-expanded="false" class="btn btn-primary" data-target="#nhr-results" data-toggle="collapse" id="nhr-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="zjumocap-results" aria-expanded="false" class="btn btn-primary" data-target="#zjumocap-results" data-toggle="collapse" id="zjumocap-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="mobilestage-single-results" aria-expanded="false" class="btn btn-primary" data-target="#mobilestage-single-results" data-toggle="collapse" id="mobilestage-single-results-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="nhr-demos" aria-expanded="false" class="btn btn-primary" data-target="#nhr-demos" data-toggle="collapse" id="nhr-demos-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="zjumocap-demos" aria-expanded="false" class="btn btn-primary" data-target="#zjumocap-demos" data-toggle="collapse" id="zjumocap-demos-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="mobilestage-demos" aria-expanded="false" class="btn btn-primary" data-target="#mobilestage-demos" data-toggle="collapse" id="mobilestage-demos-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="n3dv-demos" aria-expanded="false" class="btn btn-primary" data-target="#n3dv-demos" data-toggle="collapse" id="n3dv-demos-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>

  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="kplanes-comparisons" aria-expanded="false" class="btn btn-primary" data-target="#kplanes-comparisons" data-toggle="collapse" id="kplanes-comparisons-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>
  <section class="results-section">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h5>
            <button aria-controls="enerf-comparisons" aria-expanded="false" class="btn btn-primary" data-target="#enerf-comparisons" data-toggle="collapse" id="enerf-comparisons-button" type="button">
            </button>
          </h5>
        </div>
      </div>
      
    </div>
  </section>



  <script type="text/javascript">
    var sc_project = 12931644;
    var sc_invisible = 1;
    var sc_security = '012c8c76';
  </script>
  <script async="" src="https://www.statcounter.com/counter/counter.js" type="text/javascript"></script>
  <noscript>
    <div class="statcounter">
      <a href="https://statcounter.com/" target="_blank" title="Web Analytics
  Made Easy - Statcounter"><img alt="Web Analytics Made Easy - Statcounter" class="statcounter" referrerpolicy="no-referrer-when-downgrade" src="https://c.statcounter.com/12931644/0/012c8c76/1/" /></a>
    </div>
  </noscript>
  <!-- End of Statcounter Code -->
  <script>
    var buttonIds = [
      'mobilestage-results-button',
      'outdoor-results-button',
      'renbody-results-button',
      'n3dv-results-button',
      'nhr-results-button',
      'zjumocap-results-button',
      'mobilestage-single-results-button',

      'nhr-demos-button',
      'zjumocap-demos-button',
      'mobilestage-demos-button',
      'n3dv-demos-button',
     /* ...other button ids... */];
    var sectionIds = [
      'mobilestage-results',
      'outdoor-results',
      'renbody-results',
      'n3dv-results',
      'nhr-results',
      'zjumocap-results',
      'mobilestage-single-results',

      'nhr-demos',
      'zjumocap-demos',
      'mobilestage-demos',
      'n3dv-demos',
      /* ...other section ids... */];
    for (var i = 0; i < buttonIds.length; i++) {
      (function (index) {
        var button = document.getElementById(buttonIds[index]);
        var section = document.getElementById(sectionIds[index]);
        button.addEventListener('click', function () {
          if (section.classList.contains('show')) {
            button.innerText = 'Click to Expand';
            var videos = section.getElementsByTagName('video');
            for (var j = 0; j < videos.length; j++) {
              if (videos[j].readyState >= HTMLMediaElement.HAVE_CURRENT_DATA) {
                videos[j].pause();
              }
            }
          } else {
            button.innerText = 'Click to Collapse';
            var videos = section.getElementsByTagName('video');
            for (var j = 0; j < videos.length; j++) {
              videos[j].play();
            }
          }
        });
      })(i);
    }

    var compare_button_ids = [
      'enerf-comparisons-button',
      'kplanes-comparisons-button',
     /* ...other button ids... */];
    var compare_section_ids = [
      'enerf-comparisons',
      'kplanes-comparisons',
      /* ...other section ids... */];
    for (var i = 0; i < compare_button_ids.length; i++) {
      (function (index) {
        var button = document.getElementById(compare_button_ids[index]);
        var section = document.getElementById(compare_section_ids[index]);
        button.addEventListener('click', function () {
          if (section.classList.contains('show')) {
            button.innerText = 'Click to Expand';
            var videos = section.getElementsByTagName('video');
            for (var j = 0; j < videos.length; j++) {
              if (videos[j].readyState >= HTMLMediaElement.HAVE_CURRENT_DATA) {
                videos[j].pause();
              }
            }
            var merge = $(document.getElementById(compare_section_ids[index]))[0].getElementsByTagName('canvas')[0];
            if (merge.hasAttribute('animation_id')) {
              cancelAnimationFrame(merge.getAttribute('animation_id'));
            }
          } else {
            button.innerText = 'Click to Collapse';
            var videos = section.getElementsByTagName('video');
            for (var j = 0; j < videos.length; j++) {
              videos[j].play();
              // if (videos[j].readyState >= HTMLMediaElement.HAVE_CURRENT_DATA) {
              // playVids(videos[j].id)
              resizeAndPlay(videos[j])
              // }
            }
          }
        });
      })(i);
    }

    document.addEventListener("DOMContentLoaded", function () {
      renderMathInElement(document.body, {
        delimiters: [
          { left: "$", right: "$", display: false },
          { left: "$$", right: "$$", display: true }
        ]
      });
    });



    function handleCarouselSlide(event) {
      // Reference to the current carousel
      var currentCarousel = $(event.target);

      // Check each video in the current carousel
      currentCarousel.find('video').each(function () {
        var isVideoInActiveItem = $(this).closest('.carousel-item').hasClass('active');
        if (isVideoInActiveItem) {
          if (this.readyState >= HTMLMediaElement.HAVE_CURRENT_DATA) {
            this.height = (this.videoHeight / this.videoWidth) * $(this).parent().width();
          }
          this.play();
        } else {
          if (this.readyState >= HTMLMediaElement.HAVE_CURRENT_DATA) {
            this.pause();
          }
        }
      });
    }

    $('.carousel').on('slid.bs.carousel', handleCarouselSlide);

    $(document).ready(function () {
      $('video').each(function () {
        var $video = $(this);
        var $carousel = $video.closest('.carousel');
        if ($carousel.length > 0) {
          $video.on('ended', function () {
            $carousel.carousel('next');
          });
        }
      });
    });

    function update_video_shape() {
      this.height = (this.videoHeight / this.videoWidth) * $(this).parent().width();
    }

    // fix the element's width and height properties to the current video ones
    $("video").each(function () {
      if (!this.classList.contains('comparison-video')) {
        $(this).on('loadeddata', update_video_shape);
      }
    });

    // $("#renbody-results-button").click()

    document.addEventListener("DOMContentLoaded", function () {
      // Get all videos
      var videos = document.querySelectorAll('video');

      // Add source to video tag
      function addSourceToVideo(element, src) {
        var source = document.createElement('source');
        source.src = src;
        source.type = 'video/mp4';
        element.appendChild(source);
      }

      // Determine screen size and select appropriate videos
      function whichSizeVideo(element) {
        var windowWidth = window.innerWidth || window.innerWidth;
        var prefix = windowWidth > 1200 ? "desktop" : "mobile";

        // Get all data attributes for the given prefix (e.g., data-mobile-vid1, data-mobile-vid2, ...)
        var i = 1;
        while (element.dataset[prefix + "Vid" + i]) {
          addSourceToVideo(element, element.dataset[prefix + "Vid" + i]);
          i++;
        }
      }

      // Initialize only if the page has videos
      function videoSize() {
        if (videos) {
          videos.forEach(whichSizeVideo);
        }
      }

      videoSize();

      setInterval(function () {
        // 选择所有comparison-video类型的视频
        let videos = document.querySelectorAll('.comparison-video');

        videos.forEach(video => {
          // 如果id没有以After结尾
          if (!video.id.endsWith('After')) {
            resizeAndPlay(video);
          }
        });
      }, 10000);  // 每500毫秒检测一次

    });
  </script>
</body>

</html>
